<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel Admin</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:Arial;background:#f2f2f2;padding:20px}
.box{max-width:600px;margin:auto;background:#fff;padding:20px;border-radius:10px}
input,textarea,button{width:100%;padding:10px;margin:5px 0}
button{border:none;color:#fff}
.add{background:#0a7cff}
.del{background:#d9534f}
.edit{background:#f0ad4e}
.product{border-bottom:1px solid #ccc;padding:10px 0}
</style>
</head>
<body>

<div class="box">
<h2>Cadastro de Produtos</h2>

<input id="nome" placeholder="Nome">
<textarea id="descricao" placeholder="Descrição"></textarea>
<input id="preco" placeholder="Preço">
<input id="imagem" placeholder="URL da imagem">
<input id="whats" placeholder="WhatsApp">
<button class="add" onclick="add()">Adicionar</button>

<hr>
<div id="lista"></div>
</div>

<script>
if(localStorage.getItem("logado")!=="sim"){
  location.href="index.html";
}

let produtos = JSON.parse(localStorage.getItem("produtos")) || [];
const lista = document.getElementById("lista");

function render(){
  lista.innerHTML="";
  produtos.forEach((p,i)=>{
    lista.innerHTML+=`
    <div class="product">
      <strong>${p.nome}</strong> - R$ ${p.preco}<br>
      <button class="edit" onclick="edit(${i})">Editar</button>
      <button class="del" onclick="del(${i})">Excluir</button>
    </div>`;
  });
  localStorage.setItem("produtos",JSON.stringify(produtos));
}
render();

function add(){
  produtos.push({
    nome:nome.value,
    descricao:descricao.value,
    preco:preco.value,
    imagem:imagem.value,
    whats:whats.value
  });
  render();
}

function del(i){
  produtos.splice(i,1);
  render();
}

function edit(i){
  nome.value=produtos[i].nome;
  descricao.value=produtos[i].descricao;
  preco.value=produtos[i].preco;
  imagem.value=produtos[i].imagem;
  whats.value=produtos[i].whats;
  del(i);
}
</script>

</body>
</html>
